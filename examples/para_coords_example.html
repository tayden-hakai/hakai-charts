<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>hakaiCharts parallel coordinates example</title>
  </head>
  <body>
    <div id="chart"></div>

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="../dist/hakai_charts.min.js"></script>
    <script>
      var dataset = [{"measurement_dt":"2015-06-30T10:48:21.000Z","conductivity":"34.839825","temperature":"18.4505","depth":"2","pressure":"2.018","par":"313.55","flc":"0.50877","turbidity":"1.084","ph":"8.038","salinity":"25.4406","dissolved_oxygen":"7.0394"},{"measurement_dt":"2015-06-30T10:48:21.250Z","conductivity":"34.673086","temperature":"15.8035","depth":"3","pressure":"3.026","par":"253.69","flc":"0.96138","turbidity":"1.156","ph":"8.021","salinity":"27.0481","dissolved_oxygen":"6.3631"},{"measurement_dt":"2015-06-30T10:48:21.500Z","conductivity":"34.195456","temperature":"13.9934","depth":"4","pressure":"4.035","par":"206","flc":"2.4215","turbidity":"1.309","ph":"7.991","salinity":"27.8942","dissolved_oxygen":"5.6463"},{"measurement_dt":"2015-06-30T10:48:21.750Z","conductivity":"33.80555","temperature":"13.0119","depth":"5","pressure":"5.043","par":"150.2","flc":"5.0211","turbidity":"1.442","ph":"7.923","salinity":"28.2564","dissolved_oxygen":"5.2883"},{"measurement_dt":"2015-06-30T10:48:22.000Z","conductivity":"33.585014","temperature":"12.5221","depth":"6","pressure":"6.052","par":"113.96","flc":"4.8721","turbidity":"1.223","ph":"7.828","salinity":"28.4178","dissolved_oxygen":"5.1906"},{"measurement_dt":"2015-06-30T10:48:22.250Z","conductivity":"33.475933","temperature":"12.278","depth":"7","pressure":"7.06","par":"90.838","flc":"4.0889","turbidity":"1.033","ph":"7.748","salinity":"28.4997","dissolved_oxygen":"5.1118"},{"measurement_dt":"2015-06-30T10:48:22.500Z","conductivity":"33.421626","temperature":"12.1513","depth":"8","pressure":"8.069","par":"73.421","flc":"3.5841","turbidity":"1.122","ph":"7.705","salinity":"28.5446","dissolved_oxygen":"5.0353"},{"measurement_dt":"2015-06-30T10:48:22.750Z","conductivity":"33.382308","temperature":"12.0575","depth":"9","pressure":"9.078","par":"56.273","flc":"3.0751","turbidity":"1.17","ph":"7.678","salinity":"28.5785","dissolved_oxygen":"4.9704"},{"measurement_dt":"2015-06-30T10:48:23.000Z","conductivity":"33.344801","temperature":"11.9707","depth":"10","pressure":"10.087","par":"44.275","flc":"2.3835","turbidity":"0.935","ph":"7.654","salinity":"28.609","dissolved_oxygen":"4.8806"},{"measurement_dt":"2015-06-30T10:48:23.250Z","conductivity":"33.321443","temperature":"11.9036","depth":"11","pressure":"11.095","par":"36.492","flc":"1.9034","turbidity":"0.858","ph":"7.64","salinity":"28.6378","dissolved_oxygen":"4.779"},{"measurement_dt":"2015-06-30T10:48:23.500Z","conductivity":"33.294926","temperature":"11.8345","depth":"12","pressure":"12.104","par":"30.187","flc":"1.4499","turbidity":"0.986","ph":"7.627","salinity":"28.6653","dissolved_oxygen":"4.6795"},{"measurement_dt":"2015-06-30T10:48:23.750Z","conductivity":"33.268558","temperature":"11.7627","depth":"13","pressure":"13.112","par":"24.796","flc":"1.3135","turbidity":"1.049","ph":"7.611","salinity":"28.6951","dissolved_oxygen":"4.605"},{"measurement_dt":"2015-06-30T10:48:24.000Z","conductivity":"33.234072","temperature":"11.6781","depth":"14","pressure":"14.122","par":"20.575","flc":"0.94664","turbidity":"0.829","ph":"7.6","salinity":"28.7271","dissolved_oxygen":"4.5527"},{"measurement_dt":"2015-06-30T10:48:24.250Z","conductivity":"33.204734","temperature":"11.6042","depth":"15","pressure":"15.13","par":"17.17","flc":"1.0648","turbidity":"1.048","ph":"7.583","salinity":"28.7558","dissolved_oxygen":"4.4831"},{"measurement_dt":"2015-06-30T10:48:24.500Z","conductivity":"33.180642","temperature":"11.5377","depth":"16","pressure":"16.139","par":"14.51","flc":"0.80031","turbidity":"0.86","ph":"7.572","salinity":"28.7838","dissolved_oxygen":"4.406"},{"measurement_dt":"2015-06-30T10:48:24.750Z","conductivity":"33.158786","temperature":"11.4739","depth":"17","pressure":"17.148","par":"12.129","flc":"0.71503","turbidity":"0.887","ph":"7.56","salinity":"28.812","dissolved_oxygen":"4.3116"},{"measurement_dt":"2015-06-30T10:48:25.000Z","conductivity":"33.136904","temperature":"11.4072","depth":"18","pressure":"18.156","par":"10.161","flc":"0.86421","turbidity":"0.89","ph":"7.548","salinity":"28.8425","dissolved_oxygen":"4.2267"},{"measurement_dt":"2015-06-30T10:48:25.250Z","conductivity":"33.098939","temperature":"11.3075","depth":"19","pressure":"19.165","par":"8.958","flc":"0.72142","turbidity":"0.985","ph":"7.536","salinity":"28.8833","dissolved_oxygen":"4.1722"},{"measurement_dt":"2015-06-30T10:48:25.500Z","conductivity":"33.059303","temperature":"11.2039","depth":"20","pressure":"20.174","par":"7.6019","flc":"0.51599","turbidity":"0.847","ph":"7.52","salinity":"28.9256","dissolved_oxygen":"4.1342"},{"measurement_dt":"2015-06-30T10:48:25.750Z","conductivity":"33.035848","temperature":"11.1343","depth":"21","pressure":"21.183","par":"6.4546","flc":"0.49965","turbidity":"0.845","ph":"7.503","salinity":"28.9572","dissolved_oxygen":"4.1131"},{"measurement_dt":"2015-06-30T10:48:26.000Z","conductivity":"33.038687","temperature":"11.0733","depth":"22","pressure":"22.191","par":"6.3087","flc":"0.3452","turbidity":"0.627","ph":"7.479","salinity":"29.0075","dissolved_oxygen":"4.1178"}];
      var chart = hakaiCharts.parallelCoordinates('#chart');

      // CHART INSTANTIATION
      chart
        .data(dataset)
        .width(1200)
        .height(400)
        .margin({ top: 100, bottom: 10, left: 10, right: 10 })
        .color(d3.scaleTime()
          .domain(d3.extent(dataset, d => +d.depth))
          .range(['#6baed6', '#08306b'])
          .interpolate(d3.interpolateHcl)
        )
        .colorAccessor(d => +d.depth)
        .yAccessors({
          'Depth': d => -d.depth,
          'Conductivity': d => +d.conductivity,
          'Log(Temp)': d => +d.temperature,
          'Pressure': d => +d.pressure,
          'Salinity': d => +d.salinity,
          'Log(PAR)': d => +d.par,
          'Oxygen': d => +d.dissolved_oxygen,
          'pH': d => +d.ph,
          'Flourescence': d => +d.flc,
          'Turbidity': d => +d.turbidity
        })
        .y({
          'Log(Temp)': d3.scaleLog().base(100),
          'Log(PAR)': d3.scaleLog()
        })
        .onClick((dim) => {console.log(dim);})
        .render()
    </script>
  </body>
</html>
