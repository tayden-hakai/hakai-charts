{"version":3,"sources":["js/scatterplot.js"],"names":[],"mappings":"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","file":"js/scatterplot.js","sourcesContent":["'use strict';\n/* global d3 ss */\n/* eslint-env browser */\n\n/**\n * A reusable d3 scatterplot generator\n * @name scatterplot\n * @author Taylor Denouden\n * @param {string} parent | {DOM element} parent - A dom element to append the vis to\n * @return {object} scatterplot\n */\nmodule.exports = function(parent) {\n  var _width;\n  var _height;\n  var _margin;\n  var _data;\n  var _x = d3.scale.linear();\n  var _y = d3.scale.linear();\n  var _xLog = false;\n  var _yLog = false;\n  var _xAxis;\n  var _yAxis;\n  var _xAccessor;\n  var _yAccessor;\n  var _xLabel;\n  var _yLabel;\n  var _color = d3.scale.category10();\n  var _colorAccessor = function() { return 0; };\n  var _keyAccessor = function(d) { return d.key; };\n  var _radius = 5;\n  var _regLine;\n  var _rSquared = 1;\n  var _correlation = 1;\n  var _covariance = 1;\n  var _svg;\n\n  function _chart() {\n    // Create svg object\n    _svg = d3.select(parent).append('svg')\n      .attr('width', _width + _margin.left + _margin.right)\n      .attr('height', _height + _margin.top + _margin.bottom)\n    .append('g')\n      .attr('transform', 'translate(' + _margin.left + ',' + _margin.top + ')');\n\n    // Create cleaned dataset that doesn't include non numeric or log(0) values\n    var cleanData = _data.filter(function(d) {\n      return !(isNaN(_xAccessor(d)) || isNaN(_yAccessor(d)));\n    }).filter(function(d) {\n      return !((_xLog && _xAccessor(d) === 0) || (_yLog && _yAccessor(d) === 0));\n    });\n\n    // Set x and y axis based on selected attributes\n    _x.domain(d3.extent(cleanData, _xAccessor))\n      .range([0, _width]);\n    _y.domain(d3.extent(cleanData, _yAccessor))\n      .range([_height, 0]);\n\n    // Create svg axis generators\n    _xAxis = d3.svg.axis()\n      .scale(_x)\n      .orient('bottom')\n      .tickSize(-_height);\n    _yAxis = d3.svg.axis()\n      .scale(_y)\n      .orient('left')\n      .tickSize(-_width);\n\n    // Add axes to chart\n    _svg.append('g')\n        .attr('class', 'x axis')\n        .attr('transform', 'translate(0, ' + _height + ')')\n        .call(_xAxis);\n    _svg.append('g')\n        .attr('class', 'y axis')\n        .call(_yAxis);\n\n    // Add axis labels\n    _svg.append('text')\n        .attr('class', 'x label')\n        .attr('text-anchor', 'end')\n        .attr('x', _width - 10)\n        .attr('y', _height - 5)\n        .text(_xLabel);\n    _svg.append('text')\n        .attr('class', 'y label')\n        .attr('transform', 'rotate(-90)')\n        .attr('text-anchor', 'end')\n        .attr('x', -5)\n        .attr('y', 10)\n        .text(_yLabel);\n\n    // Add frame around chart\n    _svg.append('rect')\n        .attr('class', 'frame')\n        .attr('width', _width)\n        .attr('height', _height);\n\n    // Create clip path\n    _svg.append('defs')\n      .append('clipPath')\n        .attr('id', 'chartClip')\n      .append('rect')\n        .attr('width', _width)\n        .attr('height', _height);\n\n    // Calculate statistics and regression line\n    var stats = calculateStats(cleanData);\n    _regLine = stats.regLine;\n    _rSquared = stats.rSquared;\n    _correlation = stats.correlation;\n    _covariance = stats.covariance;\n\n    // Add regression line to Chart\n    _svg.append('g')\n        .attr('class', 'regression')\n        .attr('clip-path', 'url(#chartClip)')\n      .append('line')\n        .style('stroke', 'black')\n        .style('stroke-width', '1')\n        .style('stroke-dasharray', '5,5,10,5')\n        .attr('x1', _x(_x.domain()[0]))\n        .attr('y1', _y(getY(_x.domain()[0], _regLine)))\n        .attr('x2', _x(_x.domain()[1]))\n        .attr('y2', _y(getY(_x.domain()[1], _regLine)));\n\n    // Add data marks to chart\n    var marks = _svg.selectAll('g.mark')\n        .data(cleanData)\n      .enter().append('g')\n        .attr('class', 'mark');\n\n    marks.append('circle')\n        .attr('cx', function(d) { return _x(_xAccessor(d)); })\n        .attr('cy', function(d) { return _y(_yAccessor(d)); })\n        .attr('r', _radius)\n        .attr('fill', function(d) { return _color(_colorAccessor(d)); });\n\n    marks.append('text')\n        .text(_keyAccessor)\n        .attr('x', function(d) { return _x(_xAccessor(d)); })\n        .attr('y', function(d) { return _y(_yAccessor(d)); })\n        .attr('text-anchor', 'end')\n        .attr('dy', -5)\n        .attr('dx', -2);\n  }\n\n  _chart.render = function() {\n    this.call();\n    return _chart;\n  };\n  _chart.redraw = function() {\n    // Create cleaned dataset that doesn't include non numeric or log(0) values\n    var cleanData = _data.filter(function(d) {\n      return !(isNaN(_xAccessor(d)) || isNaN(_yAccessor(d)));\n    }).filter(function(d) {\n      return !((_xLog && _xAccessor(d) === 0) || (_yLog && _yAccessor(d) === 0));\n    });\n\n    // Update x and y domain\n    _x.domain(d3.extent(cleanData, _xAccessor))\n      .range([0, _width]);\n    _y.domain(d3.extent(cleanData, _yAccessor))\n      .range([_height, 0]);\n\n    // Update axes generator scale\n    _xAxis.scale(_x);\n    _yAxis.scale(_y);\n\n    // Define consistent transition duration\n    var t = 1500;\n\n    // Update axes\n    _svg.select('.x.axis')\n        .transition().duration(t)\n        .call(_xAxis);\n    _svg.select('.y.axis')\n        .transition().duration(t)\n        .call(_yAxis);\n\n    // Update axis labels\n    _svg.select('.x.label')\n        .text(_xLabel);\n    _svg.select('.y.label')\n        .text(_yLabel);\n\n    // Calculate statistics and regression line\n    var stats = calculateStats(cleanData);\n    _regLine = stats.regLine;\n    _rSquared = stats.rSquared;\n    _correlation = stats.correlation;\n    _covariance = stats.covariance;\n\n    // Add regression line to Chart\n    _svg.select('.regression line')\n      .transition().duration(t)\n        .attr('x1', _x(_x.domain()[0]))\n        .attr('y1', _y(getY(_x.domain()[0], _regLine)))\n        .attr('x2', _x(_x.domain()[1]))\n        .attr('y2', _y(getY(_x.domain()[1], _regLine)));\n\n    // Update data and mark positions\n    var marks = _svg.selectAll('g.mark')\n        .data(cleanData, _keyAccessor);\n\n    // Update\n    marks.selectAll('circle')\n      .transition().duration(t)\n        .attr('cx', function(d) { return _x(_xAccessor(d)); })\n        .attr('cy', function(d) { return _y(_yAccessor(d)); })\n        .attr('r', _radius)\n        .attr('fill', function(d) { return _color(_colorAccessor(d)); });\n\n    marks.selectAll('text')\n      .transition().duration(t)\n        .attr('x', function(d) { return _x(_xAccessor(d)); })\n        .attr('y', function(d) { return _y(_yAccessor(d)); });\n\n    // Enter\n    var g = marks.enter().append('g')\n        .attr('class', 'mark');\n\n    g.append('circle')\n        .attr('cx', function(d) { return _x(_xAccessor(d)); })\n        .attr('cy', function(d) { return _y(_yAccessor(d)); })\n        .attr('r', _radius)\n        .attr('fill', function(d) { return _color(_colorAccessor(d)); });\n\n    g.append('text')\n        .text(_keyAccessor)\n        .attr('x', function(d) { return _x(_xAccessor(d)); })\n        .attr('y', function(d) { return _y(_yAccessor(d)); })\n        .attr('text-anchor', 'end')\n        .attr('dy', -5)\n        .attr('dx', -2);\n\n    // Exit\n    marks.exit().remove();\n\n    return _chart;\n  };\n  _chart.width = function(val) {\n    if (!arguments.length) { return _width; }\n    _width = val;\n    return _chart;\n  };\n  _chart.height = function(val) {\n    if (!arguments.length) { return _height; }\n    _height = val;\n    return _chart;\n  };\n  _chart.margin = function(val) {\n    if (!arguments.length) { return _margin; }\n    _margin = val;\n    return _chart;\n  };\n  _chart.data = function(val) {\n    if (!arguments.length) { return _data; }\n    _data = val;\n    return _chart;\n  };\n  _chart.xAccessor = function(val) {\n    if (!arguments.length) { return _xAccessor; }\n    _xAccessor = val;\n    return _chart;\n  };\n  _chart.yAccessor = function(val) {\n    if (!arguments.length) { return _yAccessor; }\n    _yAccessor = val;\n    return _chart;\n  };\n  _chart.xLabel = function(val) {\n    if (!arguments.length) { return _xLabel; }\n    _xLabel = val;\n    return _chart;\n  };\n  _chart.yLabel = function(val) {\n    if (!arguments.length) { return _yLabel; }\n    _yLabel = val;\n    return _chart;\n  };\n  _chart.xLog = function(val) {\n    if (!arguments.length) { return _xLog; }\n    _xLog = val;\n    _x = _xLog ? d3.scale.log() : d3.scale.linear();\n    return _chart;\n  };\n  _chart.yLog = function(val) {\n    if (!arguments.length) { return _yLog; }\n    _yLog = val;\n    _y = _yLog ? d3.scale.log() : d3.scale.linear();\n    return _chart;\n  };\n  _chart.color = function(val) {\n    if (!arguments.length) { return _color; }\n    _color = val;\n    return _chart;\n  };\n  _chart.colorAccessor = function(val) {\n    if (!arguments.length) { return _colorAccessor; }\n    _colorAccessor = val;\n    return _chart;\n  };\n  _chart.keyAccessor = function(val) {\n    if (!arguments.length) { return _keyAccessor; }\n    _keyAccessor = val;\n    return _chart;\n  };\n  _chart.radius = function(val) {\n    if (!arguments.length) { return _radius; }\n    _radius = val;\n    return _chart;\n  };\n  _chart.rSquared = function() {\n    return _rSquared;\n  };\n  _chart.correlation = function() {\n    return _correlation;\n  };\n  _chart.covariance = function() {\n    return _covariance;\n  };\n\n  return _chart;\n\n  /**\n   * Return the base ten log of a Number\n   * @param {number} d - A number to apply the operation on\n   * @return {number} log base 10 of d\n   */\n  function log10(d) {\n    return Math.log(d) / Math.log(10);\n  }\n\n  /**\n   * Given an x value of un-transformed data (no log transform etc.),\n   * get the untransformed y coordinate from the regression line\n   * @param {number} x - The untransformed x value in linear space\n   * @param {function} regLine - The regression line calculated using\n   *    a transformed dataset that accounted for the log scales\n   * @return {number} y - The untransformed y value in linear space to plot on the chart\n   */\n  function getY(x, regLine) {\n    var y = regLine(_xLog ? log10(x) : x);\n    return _yLog ? Math.pow(10, y) : y;\n  }\n\n  /**\n   * Calculate all chart statistical values and regresslion linearRegression\n   * @param {Object[]} data - The dataset used to calculate the statistics\n   * @return {Object} stats - An object with all calculated statistics\n   */\n  function calculateStats(data) {\n    // Get regression line formula\n    var ssData = data.map(function(d) {\n      var xD = _xLog ? log10(_xAccessor(d)) : _xAccessor(d);\n      var yD = _yLog ? log10(_yAccessor(d)) : _yAccessor(d);\n      return [xD, yD];\n    });\n    var mb = ss.linearRegression(ssData);\n    var regLine = ss.linearRegressionLine(mb);\n\n    // Calculated statistics\n    var rSquared = ss.rSquared(ssData, regLine);\n    var correlation = ss.sampleCorrelation(\n      ssData.map(function(d) {return d[0]; }),\n      ssData.map(function(d) {return d[1]; })\n    );\n    var covariance = ss.sampleCovariance(\n      ssData.map(function(d) {return d[0]; }),\n      ssData.map(function(d) {return d[1]; })\n    );\n\n    return {\n      reg: mb,\n      regLine: regLine,\n      rSquared: rSquared,\n      correlation: correlation,\n      covariance: covariance\n    };\n  }\n};\n"],"sourceRoot":"/source/"}